<ion-header [translucent]="true">
  <ion-toolbar color="principal">
    <ion-buttons  slot="start" >
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      <div class="ion-text-wrap">
        Reporte Físico-Químicos
       </div>

    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-fab vertical="bottom" horizontal="end"  slot="fixed" *ngIf="todoslosparametros.length>0">
    <ion-fab-button color="principal" (click)="ValidarRegistro()" >
      <ion-icon name="arrow-forward-circle">
      </ion-icon>
    </ion-fab-button>
  </ion-fab>
  <div *ngIf="todoslosparametros.length==0">
    <ion-item>
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
    </ion-item>
    <ion-item>
     
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
    </ion-item>
    <ion-item>
     
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
     </ion-item>
    <ion-item>
     
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
    </ion-item>
    <ion-item>
     
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
    </ion-item>
    <ion-item>
     
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
    </ion-item>
    <ion-item>
     
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
    </ion-item>
    <ion-item>
     
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
    </ion-item>
  </div>
 
 
  <div *ngIf="todoslosparametros.length>0">
 
    <ion-list>
  
    <ion-item >
      <ion-label  color="dark">Empresa *</ion-label>
      <ionic-selectable 
        [(ngModel)]="DataForm.empresa"
        [items]="empresas"
        itemValueField="IDEMP"
        itemTextField="EMPRESA"
        [canSearch]="true"
        (onChange)="changeEmpresas($event)"
        closeButtonText="Cerrar">
      </ionic-selectable>
    </ion-item>
    <ion-item >
      <ion-label  color="dark">Granja *</ion-label>
      <ionic-selectable 
        [(ngModel)]="DataForm.granja"
        [items]="granjas"
        itemValueField="IDGRA"
        itemTextField="NOMBRE"
        [canSearch]="true"
        (onChange)="changeGranjas($event)"
        closeButtonText="Cerrar">
      </ionic-selectable>
    </ion-item>
    <ion-item >
      <ion-label  color="dark">Responsable *</ion-label>
      <ionic-selectable 
        [(ngModel)]="DataForm.responsable"
        [items]="responsables"
        itemValueField="ID"
        itemTextField="NOMBRES"
        [canSearch]="true"
        (onChange)="changeResponsable($event)"
        closeButtonText="Cerrar">
      </ionic-selectable>
    </ion-item>
    <ion-item >
      <ion-label  color="dark">Espacios *</ion-label>
      <ionic-selectable 
      #portComponent
      [(ngModel)]="DataForm.espacio"
        [items]="espacios"
        itemValueField="COD"
        itemTextField="NOMBRE"
        [canSearch]="true"
        (onOpen)="onOpen($event)"
        closeButtonText="Cerrar">
      </ionic-selectable>
    </ion-item>
    <ion-item>
      <ion-label  position="" class="ion-text-wrap">Fecha *</ion-label>
      <ion-datetime monthShortNames='Ene, Feb, Mar, Abr, May, Jun, Jul, Ago, Sep, Oct, Nov, Dic' min="1980" max="2030" cancelText="CANCELAR"  doneText="ACEPTAR" placeholder="Selecciona la Fecha" [(ngModel)]="DataForm.fecha" ></ion-datetime>
    </ion-item>
    <ion-item *ngFor="let item of todoslosparametros;">
      <ion-label position="stacked" style="font-size: larger;">{{item.PARAMETRO}} * </ion-label>
      <ion-input [(ngModel)]="item.valoratomar"  min="item.VALMIN" max="item.VALMAX" placeholder="0" inputmode="numeric" type="number"></ion-input>
    </ion-item>
  
    <ion-row>
      <ion-col size="3">
      </ion-col>
      <ion-col size="6">
        <ion-item class="ion-text-center">
          <ion-label  position="floating" class="ion-text-wrap" style="font-size:12px;">Hora</ion-label>
          <ion-datetime [min]="yearMin"  [max]="yearMax" display-format="HH:mm" picker-format="HH:mm " value="1990-02-19T07:43Z" cancelText="CANCELAR"  doneText="ACEPTAR" [(ngModel)]="DataForm.startdate" ></ion-datetime>
        </ion-item>
      </ion-col>
      <ion-col size="3">
      </ion-col>
    </ion-row>
    <ion-item>
      <ion-label position="stacked" style="font-size: larger;">Observaciones:</ion-label>
      <ion-input [(ngModel)]="DataForm.observaciones"  placeholder="observaciones" type="text"></ion-input>
    </ion-item>
    </ion-list>
  </div>
  
</ion-content>
